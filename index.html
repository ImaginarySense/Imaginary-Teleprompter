<!DOCTYPE html>
<!--
    Teleprompter!
    Copyright (C) 2015 Imaginary Films LLC and contributors

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Teleprompter by Imaginary Films</title>
    <link  rel="icon" href="favicon.ico" type="image/x-icon" />
    <script src="ckeditor/ckeditor.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/mobilecheck.js"></script>
    <style class="anchorjs"></style>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/docs.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/mobilehide.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <form>
      <!-- Header -->
      <header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
        <div class="container">
          <div class="navbar-header">
            <!--
            <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            -->
            <a href="http://imaginary.tech/teleprompter" target="_blank" class="navbar-brand"><img src="img/logo.png" alt="Teleprompter" style="height:20px;"></a>
          </div>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="" onclick="submitTeleprompter(); return false;" style="font-size: 1.4em; background:#EEE";><strong>Prompt It!</strong></a></li>
          </ul>
        </div>
      </header>

      <!-- Custom controls -->
      <div class="bs-docs-header" id="content" tabindex="-1">
        <div class="container">
          <div class='row'>
            <!--
            <div class='col-md-3 desktopOnly'>
              <label for="basic-url">Current display</label>
              <select class="form-control" id="primary" name="primary">
                <option value="0" selected="selected">Don't prompt on this window</option>
                <option value="1">Normal (Don't Flip)</option>
                <option value="2">Horizontal flip</option>
                <option value="3">Vertical flip</option>
                <option value="4">Double flip</option>
              </select>
            </div>
            -->
            <div class='col-md-4'>
              <!--<label class="desktopOnly" for="basic-url">External display</label>-->
              <label for="basic-url">Flip mode</label>
              <select class="form-control" id="secondary" name="secondary">
                <!--<option value="0" class="desktopOnly">Disabled</option>-->
                <option value="1" selected="selected">Normal (Don't Flip)</option>
                <option value="2">Horizontal Flip</option>
                <option value="3">Vertical Flip</option>
                <option value="4">Double Flip</option>
              </select>
            </div>
            <div class='col-md-4'>
              <label for="basic-url">Prompter style</label>
              <select class="form-control" id="prompterStyle" name="prompterStyle" onchange="OnChange(this.form.prompterStyle);">
                <option value="0" selected="selected">Blackboard</option>
                <option value="1">Whiteboard</option>
              </select>
            </div>
            <div class='col-md-4'>
              <label for="basic-url">Focus</label>
              <select class="form-control" id="focus" name="focus">
                <option value="1">Top (webcam)</option>
                <option value="0" selected="selected">Middle (professional prompter)</option>
                <option value="2">Bottom (screen above camera)</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div id="editor" class="container bs-docs-container" style="width:100%;">
        <div class="row">
          <div class="col-md-12" role="main" style="padding-right: 0px; padding-left: 0px;">
            <div class="bs-docs-section">
              <div id="CKEditor">
                <textarea name="editor1" id="teleprompterdata">
                  <h2>Welcome to Teleprompter!</h2>
<p>Are you ready to tell your story?</p>
<br>
<p>"Teleprompter" is a professional grade, multi-platform, free software teleprompter for everyone to use. Click on "Prompt It!" whenever you're ready and control the speed with the arrow keys.</p>
<br>
<h3>Here are some of our features:</h3>
<ol>
  <li>Speed controls with the Arrow and WASD keys.</li>
  <li>Our Rich Text Editor gives unlimited possibilities on what you can prompt.</li>
  <li>Different focus modes allows using Teleprompter with a webcam, a tablet, or professional teleprompter systems.</li>
  <li>Flip modes allow <em>mirroring</em> the prompter in every possible way.</li>
  <li>By setting up <a id="5" name="5">anchors</a> with the numbers '0' through '9', you can instantly jump to any part of the script.<br>Try pressing '5' now!</li>
  <li>You may choose between a black or a white background to read from.</li>
  <li>Prompter loads on a separate window so you can display it on a secondary monitor.</li>
  <li>Text can be pasted from other word processors like MicrosoftÂ® Word or <a href="https://www.libreoffice.org/">Libre Office</a> Writer.</li>
  <li>Scrolling pauses the text for one second before resuming the animation.</li>
  <li>You may pause the teleprompter at anytime pressing 'spacebar'.</li>
  <li>Press 'F11' to enter and leave fullscreen.</li>
  <li>Edits continously autosave. You can recover previous prompts on the bottom right of the editor.</li>
  <li>All data is managed locally. No data is stored on our servers.</li>
</ol>
<hr />
<h3>How to use anchors:</h3>
<ol>
  <li>Select a keyword on the line you want to jump to.</li>
  <li>Click on the <strong>Flag Icon</strong> on the editor's toolbar.</li>
  <li>A box named "Anchor Properties" should've popped up. Type any number from 0 through 9 and click 'Ok'.</li>
  <li>When prompting, press or tap on the number you typed to jump into the desired location.</li>
</ol>
<p>###</p>
                </textarea>
              </div> 
            </div>
          </div>
        </div>
      </div>
    </form>
    <!-- Footer -->
    <footer id="footer" class="bs-docs-footer finalFooter" role="contentinfo">
      <div class="container">
        
        <p style="color:#FFF;">&copy; <a href="http://imaginary.tech">Imaginary Films LLC</a></p>
        
        <p>Created by <a href="https://twitter.com/Va2ron1" target="_blank">Victor Ortiz</a> and <a href="https://www.facebook.com/javicorper" target="_blank">Javier Cordero</a>.</p>
        
        <p>Code licensed under <a rel="license" href="LICENSE" target="_blank">GPL3</a>, assets under <a rel="license" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.</p>
        
        <ul class="bs-docs-footer-links">
          <li>Currently v1.2</li>
          <!--
          <li>&middot;</li>
          <li><a href="downloads">Download</a></li>
          -->
          <li>&middot;</li>
          <li><a target="_blank" href="https://github.com/imaginaryfilms/Teleprompter.git">Source</a></li>
          <!--
          <li>&middot;</li>
          <li><a target="_blank" href="support">Support</a></li>
          <li>&middot;</li>
          <li><a target="_blank" href="releases">Releases</a></li>
          -->
          <li>&middot;</li>
          <li><a target="_blank" href="http://imaginary.tech/software/teleprompter">About</a></li>
        </ul>
      </div>
    </footer>
    <div id="framecontainer" style="position: relative; top: 0px; left: 0px; width: 100%; height: 100%; z-index:10; display: none;">
      <iframe id="frameprompt" src="about:blank" style="top: 0px; left: 0px; width: 100%; height: 100%;"></iframe>
    </div>
    <script>
      // Instance CKEditor
      CKEDITOR.replace( 'teleprompterdata');
      var prompterWindow;

      // On change Prompter Style
      function OnChange(prompterStyle)
      {
        var selection = prompterStyle.selectedIndex
        
        if ( selection )
        {
          document.getElementsByTagName('iframe')[0].contentWindow.document.body.style.background="#FFF";
          document.getElementsByTagName('iframe')[0].contentWindow.document.body.style.color="#000";
        }
        else
        {
          document.getElementsByTagName('iframe')[0].contentWindow.document.body.style.background='#272822';
          document.getElementsByTagName('iframe')[0].contentWindow.document.body.style.color = '#FFF'; 
        }
      }
/*
      function checkDisplaySettings()
      {
        if ( $( "#secondary" ).val() == 0 && $( "#primary" ).val() == 0 )
          document.alert("You must have at least one active display.");
      }
      $( "#secondary" ).onChange()
      {
        checkDisplaySettings();
      }
      $( "#primary" ).onChange()
      {
        checkDisplaySettings();
      }
*/
      function submitTeleprompter()
      {
        // Get html from CKEditor
        var htmldata = CKEDITOR.instances.teleprompterdata.getData();
        
        // Get remaining form data
        var data = '{ "data": {"secondary":'+$( "#secondary" ).val()+',"prompterStyle":'+$( "#prompterStyle" ).val()+',"focus":'+$( "#focus" ).val()+'},"html" : "' + encodeURIComponent(htmldata) + '"}';
        
        // Store data locally for prompter to use
        localStorage.setItem('data', data);
        //console.log(data);
        
        /*
        // Set and load "Primary"
        if ( $("#primary").val()>0 )
        {
          // Hide stuff
          document.getElementById("content").style.display = "none";
          document.getElementById("editor").style.display = "none";
          document.getElementById("footer").style.display = "none";
          // Show prompter frame
          document.getElementById("framecontainer").style.display = "block";
          // Load teleprompter
          document.getElementById("frameprompt").src = "teleprompter.html";
        }
        */

        // "Secondary"
        if ( $("#secondary").val()>0 )
        {
          prompterWindow = window.open("teleprompter.html",'TelePrompter Output','height=' + screen.height +',width=' + screen.width);
          if (window.focus)
            prompterWindow.focus();
        }
      }

      function init()
      {
        if ( window.mobileAndTabletcheck() )
        {
          $(".mobileOnly").css('display', 'block');
          //document.getElementById("secondary").value = 1;
        }
        else
          $(".desktopOnly").css('display', 'block');
        //console.log(window.mobileAndTabletcheck());
      }

      document.body.onload = init();
    </script>
  </body>
</html>
